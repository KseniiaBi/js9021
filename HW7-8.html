<!DOCTYPE html>
<html>
<title>HW7-8</title>
<body>
</body>
<script>
//     Напишите функцию, которая делает поверхностную проверку объекта на пустоту.
//   * Ожидаемый результат: ({}) => true,
//       ({ a: undefined }) => true,
//       ({ a: 1 }) => false
//   * Пустые значения: '', null, NaN, undefined
//  Напишите функцию, которая делает глубокую проверку на пустоту объекта.
//   * Пустые значения: '', null, NaN, undefined, [], {}
//   * Ожидаемый результат: ({}) => true,
//       ({ a: { b: undefined } }) => true,
//       ({ a: { b: [] } }) => true
    function isEmpty(obj) {
        let res=false;
        if (Object.entries(obj).length==0)res=true;
        for (let key in obj) {
            if (typeof(obj[key])===`string`&&obj[key]==='')res = true;
            if (typeof(obj[key])===`number`&&isNaN(obj[key])===false)res = false;
            if (typeof(obj[key])===`number`&&isNaN(obj[key])===true)res = true;
            if (typeof(obj[key])===`object`&&obj[key]!==null&&obj[key]!==undefined)res=true;
            if (obj[key]===null||obj[key]===undefined)res = true;
            if (Array.isArray(obj[key])===true) {
                if (obj[key].length===0) res = true;
                else {
                    for (let i=0;i<obj[key].length;i++){
                        return isEmpty(obj[key][i]);
                    }
                }
            }
            if (typeof(obj[key])=="object"&&Array.isArray(obj[key])===false)return isEmpty(obj[key])
        }
        return console.log(res);
    }
    isEmpty({});
    isEmpty({ a: undefined });
    isEmpty({ a: 1 });
    isEmpty({ a: { b: undefined } });
    isEmpty({ a: { b: { c: { d: undefined} } } });
    isEmpty({ abc: { b: [] } });
</script>
</html>

