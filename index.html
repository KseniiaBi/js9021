<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1"> 
</head>
<body>



<script>

	let goods = [
		{
			name: 'Cup',
			price: 99,
		},
		{
			name: 'Plate small',
			price: 119
		},
		{
			name: 'Black Tea',
			price: 159
		},
		{
			name: 'Drip coffee Bag',
			price: 30,
		},
		{
			name: 'Tea bomb',
			price: 19
		}
	];


	function sortGoods(a, prop){
		let arr = a.slice(); // копируем массив
		arr.sort(function(a, b){
			if(a[prop] > b[prop]){
				return 1;
			}
			else if(a[prop] < b[prop]){
				return -1;
			}
			else {
				return 0;
			}
		});
		console.log(arr);
	}


	sortGoods(goods, 'name');
	sortGoods(goods, 'price');


	// String Methods

	let s = 'hello';
	console.log(s.charAt(0));
	console.log(s.charCodeAt(0));	


	function checkImg(imgname){
		if(imgname.endsWith('.png') || imgname.endsWith('.jpg')){
			console.log('User is ok');
		}
		else{
			console.error('Invalid image format');
		}
	}	

	checkImg('doc.pdf');
	checkImg('pic.png');


	let str = '			  Hello World 		 	';
	console.log(str);
	console.log(str.trim());



	// fn anagram (s1, s2) => true || false
	//  Анаграмма - слово, которое является перестановкой букв базового с одинаковой длиной

	function isAnagram(s1, s2){
		if(s1.length !== s2.length){
			return false;
		}

		let a1 = s1.split('').sort().join('');
		let a2 = s2.split('').sort().join('');

		if(a1 === a2){
			return true;
		}
		else{
			return false;
		}
	}


	console.log(isAnagram('камыш', 'мышка' ));
	console.log(isAnagram('камыш', 'каприз' ));



	// fn border-left-color -> borderLeftColor

	function camelize(str){
		let arr = str.split('-');

		let camelized = arr[0].toString();
		for(let i = 1; i < arr.length; i++){
			camelized += arr[i].charAt(0).toUpperCase() + arr[i].substr(1);
		}

		console.log(camelized);
	}


	camelize('border-left-color');

	function isPalindrome(str){
		let trs = str.split('').reverse().join(''); // превращаем строку в массив посимвольно и разворачиваем его в обратном порядке, потом побуквенно собираем из него строку
		
		// проверяем, что исходная строка и ее модификация равны и возвращаем результат
		if(str === trs){
			return true;
		}
		else{
			return false;
		}
	}

	console.log(isPalindrome('anna'));
	console.log(isPalindrome('table'));


 // найти количество гласных букв в слове ['a', 'e', 'i', 'o', 'u']

 function countLetters(word){
 	return word.match(/[a,i,e,o,u]/gi).length;
 }

 console.log(countLetters('animal'));


 // items in cart


 function transformWord(count){
 	let word = 'товар';
 	count = count.toString();
 	let lastDigit = +(count.charAt(count.length-1));

 	// if(count%10 == 2 || count%10 == 3 || count%10 == 4){ // альтернатива - решение через count%10
 	if(lastDigit >= 2 && lastDigit <= 4){
 		word += 'а';
 	}
 	else if(lastDigit >= 5 || lastDigit == 0){
 		word += 'ов';
 	}

 	console.log(`В вашей корзине ${count} ${word}`);
 }

transformWord(0);
transformWord(3);
transformWord(6);
transformWord(26);
transformWord(63);


function map(fn, arr){
	return arr.map(fn);
}

function pow(item){
	return Math.pow(item,2);
}
let arr = [2,3,4];
console.log(map(pow, arr));


// фн возводит каждый элемент в квадрат и возвращает сумму всех элементов

function calc(a){
	a = a.map(pow);
	return a.reduce((total, num) => total + num);
}

console.log(calc(arr));


// совпадения букв в двух словах  table animal => [a,l]


function findSameLetters(s1, s2){
	let a = [];

	let a1 = s1.split('');
	let a2 = s2.split('');

	for(let ch of a1){
		if(a2.includes(ch) && !a.includes(ch)){
			a.push(ch);
		}
	}

	return a;
}

console.log(findSameLetters( 'animal', 'table'));


let mul = (a, b) => a*b; // let fnname = (params) => fn body

arr.forEach(num => console.log(num*2));
// arr.forEach(function(num){
// 	console.log(num*2)
// });

// (2)(3) => 5

function sum(a){
	return function(b){
		return a+b;
	}
}

console.log(sum(2)(3)); //**


</script>

</body>
</html>