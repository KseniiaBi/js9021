<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1"> 
</head>
<body>



<script>
//
	// Function Declaration

	sayHello();
	function sayHello(){
		console.log('Hello!');
	}



	// Function Expression

	let test = function(){
		console.warn('Test');
	}
	test();

	// anonymous + callback
	// setTimeout(function(){
	// 	for(let i = 0; i < 5; i++){
	// 		console.log(i);
	// 	}
	// 	console.log(i);
	// }, 1000); // 01234 + i is not defined

	// setTimeout(function(){
	// 	for(var i = 0; i < 5; i++){
	// 		console.log(i);
	// 	}
	// 	console.log(i);
	// }, 1000);


	// callback

	function deleteItem(proceed, decline){
		let res = confirm('Delete item?');
		// res ? proceed() : decline();
		if(res == true){
			proceed();
		}
		else{
			decline();
		}
	}

	function confirmDel(){
		console.warn('Item was deleted');
	}
	function declineDel(){
		console.warn('Item was not deleted');
	}


	// deleteItem(confirmDel, declineDel);

// parameters and returns

	function sum(a,b,c,d){
		if(typeof(a) == 'number' && typeof(b) == 'number'){
			let result = a+b;
			console.log(result);
		}
	}

	sum(2,3,4);

	function superSum(){
		let result = 0;
		for(let i = 0; i < arguments.length; i++){
			result += arguments[i];
		}
		console.log(result);
	}

	superSum(4,5,6,7,8);
	superSum(4,5);


	function mul(a,b){
		return a*b;
	}

	let x = mul(2,3);

	console.log(mul(2,5));
	console.log(sum(2,1));

//  foo не является чистой функцией
	let a = 5;
	function foo(){
		a = 10;
	}
	console.log(a);
	foo();
	console.log(a);

// anonymous self-calling

	(function(){
		console.error('Anonymous');
	})();


// arrow function

	let sayBye = () => console.log('Bye!');
	sayBye();

	let makeLoop = end => {
		for(let i = 0; i <= end; i++){
			console.warn(`i: ${i}`);
		}
	}
	makeLoop(3);

	let extract = (a,b) => a-b;
	console.log(extract(5,3));


	// recursive function

// factorial -> 10! = 1*2*3...10

	function factorial(f){
		if(f > 1){
			return f * factorial(f-1);
		}
		else{
			return f;
		}
	}

	console.log(factorial(5));


	//  practice

	//  есть ли среди аргументов число 3

	function isThreePassed(){
		let threePassed = false
		for(let i = 0; i < arguments.length; i++){
			if(arguments[i] === 3){
				threePassed = true;
			}
		}
		return threePassed;
	}

	console.log(isThreePassed(1,2,3,4,5));


	// посчитать количество b внутри слова

	function countBs(word){
		if(!typeof(word) == 'string'){
			return;
		}
		let bs = 0;
		for(let i = 0; i < word.length; i++){
			if(word[i] == 'b'){
				bs++;
			}
		}
		return bs;
	}

	console.log(countBs('bubble'));

	// рекурсией вывести поочередно элементы массива

	let arr = [1,2,3,4,5,6];

	function printArr(a, index){
		if(index < a.length){
			console.log(a[index]);
			index++;
			printArr(a, index);
		}
	}
	
	printArr(arr, 0);


	// arrow fn greting (msg, name)

	let greet = (msg, name) => `${msg}, ${name}`;

	console.log(greet('Ciao', 'Ricci'));
	console.log(greet('Good evening', 'Richard'));


	// fn expression sum a+b / c

	let calc = function(a,b,c){
		return (a+b)/c;
	}

	console.log(calc(5,7,2));


	// diff values -> arr of positive numbers

	let index = 0;
	let arrr = [];

	function retPositives(){
		for(let i = 0; i < arguments.length; i++){
			if(typeof(arguments[i]) == 'number' && arguments[i] > 0){
				arrr[index] = arguments[i];
				index++;
			}
			else if(typeof(arguments[i]) == 'object' && arguments[i].length > 0){
				retPositives(...arguments[i]);
			}
		}
	}

	retPositives(3,false, -22, 'fsdfds', [1,2,3], true, -32, 90, -2, ['qq'], {a: 1});
	console.log(arrr);


	//  [1,2,[3,4,[5,6,[7]]], [8,[9,10]], [11,12,[13, 14, [15]]]] - count sum

	function countArrSum(ar){
		let sum = 0;
		for(let i = 0; i < ar.length; i++){
			if(typeof(ar[i]) == 'number'){
				sum += ar[i];
			}
			else{
				sum += countArrSum(ar[i]); // прибавляем результат выполнения рекурсивного вызова для вложенного массива
			}
		}
		return sum; // нужно для того, чтобы вернуть результат из каждого вложенного вызова  функции наверх в родительский вызов и из него за пределы функции
	}

	console.log(countArrSum([1,2,[3,4,[5,6,[7]]], [8,[9,10]], [11,12,[13, 14, [15]]]]));


	// sum numbers in bignum till get 9

	function sumNums(n){
		let num = n.toString(); // n+'';
		let res = 0;
		for(let i = 0; i < num.length; i++){
			res += +num[i];
		}
		if(res > 9){
			return sumNums(res);
		}
		else{
			return res;
		}
	}

	console.log(sumNums(29673));


	// HW get fibonacci num recursively


</script>


</body>
</html>